<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>$Title$</title>
    <script rel="script" src="../static/jquery-3.2.1.min.js" th:src="@{/jquery-3.2.1.min.js}"></script>
    <script rel="script">
        function f() {
            $.ajax({
                contentType: "application/json; charset=utf-8",
                type: "post",
                url: "/open/retrievePasswd.api",
                data: JSON.stringify({
                    data: {
                        user_Phone:"13536497410",
                        newPasswd:"123abc!?",
                        code:"Test"
                    },
                    sessionid: ""
                }),
                async: true,
                dataType: "json",
                success: function (data) {
                    console.log(data)
                },
                error: function () {
//这个是失败的回调
                },
                complete: function () {
//这个是不管成功还是失败都会执行的回调
                }
            })
        }

        function f1() {
           var ws=new WebSocket("ws://127.0.0.1:8088/ws");
           ws.onopen=function () {
               console.log("链接成功")
               ws.send("{\"action\":1,\"extand\":\"MNILSY\"}")
           };
            ws.onmessage = function(message) {
                console.log("好气啊")
                console.log(message.data);
            }
            ws.onclose=function (ev) {
                console.log("自闭")
            }
            ws.onerror=function (ev) {
                console.log("错误了")
            }
        }

        function t() {
            $.ajax({
                contentType: "application/x-www-form-urlencoded; charset=utf-8",
                type: "post",
                url: "/updatePasswd.api",
                data: {
                    data: {
                        oldPasswd:"123abc!",
                        newPasswd:"123abc?"
                    },
                    sessionid: ""
                },
                async: true,
                dataType: "json",
                success: function (data) {
                    console.log(data)
                },
                error: function () {
//这个是失败的回调
                },
                complete: function () {
//这个是不管成功还是失败都会执行的回调
                }
            })
        }

    </script>
</head>
<body>
<a href="javascript:f()">test</a>
<a href="javascript:f1()">test</a>
<a href="javascript:t()">test2</a>
</body>
</html>
    